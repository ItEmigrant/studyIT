<!DOCTYPE html>
<html>

<head>
    <meta charset="UTF-8">

    <title>Historia JS</title>
</head>
<style>
    * {
        margin: 0px;
    }

    html,
    body {
        font-family: Arial, sans-serif;
        height: 100%;
        overflow: hidden;
    }

    #historia {
        font-size: x-large;
        width: 100%;
        color: rgb(13, 6, 139);
        height: 80%;
        background-color: rgb(225, 212, 212);
        overflow-y: scroll;
        font-family:'Trebuchet MS', 'Lucida Sans Unicode', 'Lucida Grande', 'Lucida Sans', Arial, sans-serif
    }

    #stopka,
    #historia:after {
        position: static;
        bottom: 0;
        height: 20%;
    }

    #pytanie {
        padding: 10px 0;
        width: 100%;
        background-color: rgb(121, 151, 104);
        color: #333;
    }

    #odpowiedz {
        padding: 10px 0;
        width: 100%;
        background-color: #333;
        color: #FFF;
        text-align: center;
        display: none;
    }

    .czescHistorii {
        display: none;
    }

    p {
        margin-top: 1em;
    }
</style>

<body>
    <div id="historia"></div>
    <div id="stopka">
        <div id="pytanie"></div>
        <div id="odpowiedz">Podaj odpowiedź:
            <input type="text" id="twojaOdpowiedz" />
            <button type="button" id="wyslij">Dalej!</button>
        </div>
    </div>
    <!-- wszystko poniżej tego tekstu jest ukryte przy użyciu styli CSS, tak byśmy mogli to później wyświetlić przy użyciu kodu JavaScript -->
    <div class="czescHistorii" id="odpowiedz01">
        <p>Jesteś kapitanem statku kosmicznego Latający Hipopotam. Pewnego dnia, kiedy pracujesz nad usprawnieniem
            silnika swojego statku, dostajesz pilną wiadomość na swój kosmiczny telefon:</p>
        <p>"Kapitanie, jeden z naszych marsjańskich robotów jest chory. Musisz natychmiast polecieć na Marsa i go
            zabrać, abyśmy mogli go naprawić i pobrać wyniki jego ważnych eksperymentów".</p>
        <p>Przypominasz sobie, że miałeś dziś wieczorem iść na spotkanie kosmicznych zwiadowców i bardzo się na to
            cieszyłeś. Jednak z drugiej strony inni kosmiczni zwiadowcy zrozumieliby, że ta misja jest bardzo ważna.</p>
        <p>Co robisz? Lecisz na Marsa czy zostajesz w domu?</p>
    </div>
    <div class="czescHistorii" id="odpowiedz02">
        <p>Odpowiedz "Tak", kiedy będziesz gotów!</p>
    </div>
    <div class="czescHistorii" id="blad0">
        <p>Odpowiedz proszę "Tak" lub "Nie".</p>
    </div>
    <div class="czescHistorii" id="odpowiedz11">
        <p>Świetny wybór! Mars jest wspaniały o tej porze roku (a właściwie o tej porze roku, która tam będzie, gdy na
            niego dotrzesz - 260 dni od teraz!).</p>
        <p>Pakujesz swoje rzeczy i przygotowujesz zapasy jedzenia na podróż, a potem ruszasz!</p>
        <p>Start idzie dobrze i rozsiadasz się w fotelu, nakładasz słuchawki i szykujesz na relaksującą podróż.</p>
        <p>Tydzień później sprawy wciąż idą wspaniale. Nie masz nic do roboty poza czytaniem książek, słuchaniem muzyki
            i oglądaniem filmów. Wtedy jednak słyszysz dziwny dźwięk.</p>
        <p>"Miau".</p>
        <p>Brzmi jak Gizmo, Twoja kotka! Musiała się wślizgnąć na pokład, kiedy się pakowałeś!</p>
        <p>Cieszysz się, że będziesz miał towarzystwo, ale nie spakowałeś dość jedzenia dla Was obojga, a po drodze na
            Marsa raczej nie znajdziesz żadnego spożywczego.</p>
        <p>Masz wybór: zaryzykować wyczerpanie zapasów w drodze powrotnej, czy zawrócić już teraz i wrócić do domu. Co
            zrobisz?</p>
    </div>
    <div class="czescHistorii" id="odpowiedz12">
        <p>Zdecydowałeś się zostać w domu. Znajdą kogoś innego do lotu na Marsa. Poza tym słyszałeś, że na spotkaniu
            kosmicznych zwiadowców będzie darmowa pizza!</p>
    </div>
    <div class="czescHistorii" id="blad1">
        <p>Odpowiedz proszę "Mars" lub "Dom".</p>
    </div>
    <div class="czescHistorii" id="odpowiedz21">
        <p>Zdecydowałeś się zaryzykować. Podróż jest długa, a Ty dajesz Gizmo połowę swojego jedzenia, wiedząc że możesz
            nie przetrwać podróży powrotnej, ale "Latający Hipopotam" może zabrać robota bez Ciebie i przynajmniej
            uratować ważne dane z eksperymentów i oczywiście samego Gizmo.</p>
        <p>Kiedy przybywasz na Marsa, szybko znajdujesz chorego robota. Ale odkrywasz również coś innego - ogromną
            lodówkę pełną pysznych kanapek! Ostatnia ekipa naprawcza musiała ją tutaj zostawić! Odpakowujesz jedną
            kanapkę i ostrożnie bierzesz gryza. Masło orzechowe! Twoje ulubione! I ulubione Gizmo!</p>
        <p>Pakujesz kanapki i chorego robota i zaczynasz drogę powrotną, wiedząc że masz teraz nawet więcej jedzenia niż
            będziesz w stanie wraz z Gizmo przejeść.</p>
    </div>
    <div class="czescHistorii" id="odpowiedz22">
        <p>Pozwól komuś innemu uratować robota. Zawracasz "Latającego Hipopotama" i wracasz do domu.</p>
        <p>Po powrocie do kosmicznego portu otwierasz drzwi, aby wyjść ze statku, a na zewnątrz stoi Twój szef.</p>
        <p>Przepraszasz i wyjaśniasz mu całą sytuację, informując że nie byłoby wystarczająco dużo jedzenia.</p>
        <p>Mechaniczna głowa Twojego szefa paruje, kiedy mówi Ci one, że na Marsie jest zawsze mnóstwo kanapek i
            wszystko skończyłoby się dobrze, gdybyś kontynuował misję. Zwalnia Cię. Zabierasz Gizmo i idziecie do domu.
        </p>
        <p>Cóż, przynajmniej dalej masz Gizmo!</p>
    </div>
    <div class="czescHistorii" id="blad2">
        <p>Odpowiedz proszę "Ryzykuje" lub "Wracam".</p>
    </div>
    <script>
        // zadeklaruj zmienne
        var historia = document.getElementById("historia");
        var stopka = document.getElementById("stopka");
        var pytanie = document.getElementById("pytanie");
        var odpowiedz = document.getElementById("odpowiedz");
        var twojaOdpowiedz = document.getElementById("twojaOdpowiedz");
        var wyslij = document.getElementById("wyslij");


        //  stwórz pustą tablicę pod nazwą "odpowiedzi" 
        var answers = [];
        //  nasłuchuj kliknięć przycisku "wyslij" i wywołuj funkcję pobierzOdpowiedz, gdy nastąpią
        wyslij.addEventListener("click", pobierzOdpowiedz);

        //  wywołaj funkcję zadajPytanie, aby zadać pierwsze pytanie
        zadajPytanie(0);

        /* zadajPytanie() zadaje pytanie na podstawie przekazanego w argumencie numeru pytania */
        function zadajPytanie(numerPytania) {
            odpowiedz.style.display = "block";

            answers.length = numerPytania;

            switch (numerPytania) {
                case 0:
                    pytanie.innerHTML = "Jestes gotowy do gry?";
                    break;
                case 1:
                    pytanie.innerHTML = "Cisniemy na Mars czy zostajesz w domu?";
                    break;
                case 2:
                    pytanie.innerHTML = "Ryzykujes czy wracasz?";
                    break;
                default:
                    break;
            }
        }

        /* pobierzOdpowiedz() pobiera odpowiedź z pola tekstowego i dodaje ją do tablicy "odpowiedzi", a następnie wywołuje funkcję kontynuujHistorie */
        function pobierzOdpowiedz() {
            var wejscie = twojaOdpowiedz.value.toUpperCase();
            answers.push(wejscie);
            twojaOdpowiedz.value = "";
            kontynuujHistorie(answers.length - 1);
        }

        /* kontynuujHistorie() wyświetla część historii lub błąd na podstawie wartości elementu w tablicy "odpowiedzi" */
        function kontynuujHistorie(numerOdpowiedzi) {
            switch (numerOdpowiedzi) {
                case 0:
                    if (answers[0] === "TAK") {
                        historia.innerHTML = document.getElementById("odpowiedz01").innerHTML;
                        zadajPytanie(1);
                    }
                    else if (answers[0] === "NIE") {
                        historia.innerHTML = document.getElementById("odpowiedz02").innerHTML;
                        zadajPytanie(0);
                    }
                    else {
                        historia.innerHTML = document.getElementById("blad0").innerHTML;
                        zadajPytanie(0);
                    }
                    break;

                case 1:
                    if (answers[1] === "MARS") {
                        historia.innerHTML = document.getElementById("odpowiedz11").innerHTML;
                        zadajPytanie(2);
                    }
                    else if (answers[1] === "DOM") {
                        historia.innerHTML = document.getElementById("odpowiedz12").innerHTML;
                    }
                    else {
                        historia.innerHTML = document.getElementById("blad1").innerHTML;
                        zadajPytanie(1);
                    }
                    break;

                case 2:
                    if (answers[2] === "RYZYKUJE") {
                        historia.innerHTML = document.getElementById("odpowiedz21").innerHTML;
                        koniec();
                    }
                    else if (answers[2] === "WRACAM") {
                        historia.innerHTML = document.getElementById("odpowiedz22").innerHTML;
                        koniec();
                    }
                    else {
                        historia.innerHTML = document.getElementById("blad2").innerHTML;
                        zadajPytanie(2);
                    }
                    break;
                default:
                    historia.innerHTML = "The end for this story!";
                    break;

            }

        }
        /* koniec() kończy historię i chowa pole tekstowe */
        function koniec() {
            historia.innerHTML += "<p> The end </p>";
            pytanie.innerHTML = " ";
            odpowiedz.style.display = "none";
        }
    </script>
</body>

</html>